const mysql = require('think-model-mysql');
const Model = require('../src/model');

const model = new Model('work', {
  handle: mysql,
  host: '10.208.37.212',
  port: 2493,
  user: 'medici',
  password: '12887bb11e2278c0',
  database: 'medici',
  prefix: 'md_',
  jsonFormat: true,
  logConnect: true,
  logSql: true,
  logger: msg => console.log(msg)
});

(async() => {
  try {
    // const data = [
    //   {team_id: 100, name: 'test json', group_order: [1,2,3,4], preview: undefined},
    //   {team_id: 100, name: 'test json1', group_order: [], preview: undefined},
    //   {team_id: 100, name: 'test json2', group_order: {hello: 'test', data: [1,2,3,4]}, preview: undefined},
    // ];
    // await model.addMany(data);
    const result = await model.where('1=1').find();
    console.log(JSON.stringify(result, null, '\t'))
    // console.log(Array.isArray(result.group_order));
  } catch (e) {
    console.error(e);
  }
})();
